<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>فانوس رمضان 2026</title>
    <style>
        body {
            background: #050510; color: #ffd700;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; margin: 0; font-family: sans-serif;
        }

        #timer { font-size: 1.5rem; margin-bottom: 20px; font-weight: bold; }

        .lantern-container {
            position: relative; width: 300px; height: 500px; cursor: pointer;
        }

        /* صورة الفانوس الحقيقي مفرغة */
        .lantern-img {
            position: absolute; width: 100%; z-index: 10; pointer-events: none;
        }

        .glass {
            position: absolute; top: 25%; left: 15%; width: 70%; height: 40%;
            z-index: 5; overflow: hidden; border-radius: 50%;
        }

        .rotator {
            position: absolute; width: 100%; height: 100%;
            display: none; transform-style: preserve-3d;
        }
        .active .rotator { display: block; animation: spin 5s linear infinite; }

        .fanis { position: absolute; width: 80px; top: 40%; left: 35%; }
        .c1 { transform: rotateY(0deg) translateZ(60px); }
        .c2 { transform: rotateY(180deg) translateZ(60px); }

        @keyframes spin { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

        .glow {
            position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);
            width: 300px; height: 300px;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.5) 0%, transparent 70%);
            z-index: 4; opacity: 0; transition: 0.5s;
        }
        .active .glow { opacity: 1; }
        #glitter { position: absolute; top: 0; left: 0; z-index: 6; }
    </style>
</head>
<body>

    <div id="timer">باقي وقت قليل على 19 مارس</div>

    <div class="lantern-container" id="fanous">
        <div class="glow"></div>
        <img src="https://i.ibb.co/3W6p0Fj/lantern-vogue.png" class="lantern-img">

        <div class="glass">
            <canvas id="glitter"></canvas>
            <div class="rotator">
                <img src="https://i.ibb.co/k2Vp9p4/fanis1.png" class="fanis c1">
                <img src="https://i.ibb.co/6yXm1F3/fanis2.png" class="fanis c2">
            </div>
        </div>
    </div>

    <audio id="audio" loop>
        <source src="1000349041.mp3" type="audio/mpeg">
    </audio>

    <script>
        const f = document.getElementById('fanous');
        const a = document.getElementById('audio');
        const c = document.getElementById('glitter');
        const ctx = c.getContext('2d');
        let on = false;

        f.onclick = () => {
            on = !on;
            f.classList.toggle('active');
            if(on) { 
                a.play().catch(e => alert("اضغط مرة أخرى لتشغيل الصوت")); 
                init(); 
            } else { 
                a.pause(); 
            }
        };

        // العداد
        setInterval(() => {
            const diff = new Date("March 19, 2026") - new Date();
            const d = Math.floor(diff / (1000*60*60*24));
            document.getElementById('timer').innerText = `باقي ${d} يوم على رمضان`;
        }, 1000);

        let p = [];
        function init() {
            c.width = c.offsetWidth; c.height = c.offsetHeight;
            p = Array.from({length: 60}, () => ({x:Math.random()*c.width, y:Math.random()*c.height, s:Math.random()+0.5}));
        }
        function draw() {
            if(on) {
                ctx.clearRect(0,0,c.width,c.height);
                ctx.fillStyle = "gold";
                p.forEach(i => {
                    ctx.beginPath(); ctx.arc(i.x, i.y, 1.2, 0, 7); ctx.fill();
                    i.y += i.s; if(i.y > c.height) i.y = -5;
                });
            }
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>
