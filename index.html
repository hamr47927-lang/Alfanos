<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أمل - سحر رمضان</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@700&display=swap');

        body, html {
            margin: 0; padding: 0; height: 100%;
            background: #020205; overflow: hidden;
            font-family: 'Amiri', serif;
        }

        /* خلفية سحرية */
        #magic-bg {
            position: fixed; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #0a0a25 0%, #000 100%);
            z-index: 0;
        }

        /* العداد */
        .timer-box {
            position: absolute; top: 5%; width: 100%; text-align: center;
            color: #d4af37; z-index: 10; opacity: 0.7;
        }
        #countdown { font-size: 1.5rem; }

        /* حاوية المركز */
        .center-stage {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            display: flex; flex-direction: column; align-items: center;
            z-index: 5;
        }

        /* اسم أمل - البطل في المشهد */
        .name-trigger {
            font-size: 70px; color: #ffd700; cursor: pointer;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
            transition: all 0.8s ease; z-index: 20;
            user-select: none;
        }
        .active .name-trigger {
            font-size: 55px; /* بيصغر شوية عشان يدخل جوه الفانوس */
            text-shadow: 0 0 30px #d4af37;
            transform: translateY(40px); /* بينزل لمكان الزجاج */
        }

        /* الفانوس - مخفي تماماً في البداية */
        .lantern-ui {
            width: 240px; height: 420px;
            opacity: 0; transform: scale(0.5);
            transition: all 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none; position: absolute; top: -140px;
        }

        .active .lantern-ui {
            opacity: 1; transform: scale(1);
        }

        /* أجزاء الفانوس */
        .l-cap { width: 90px; height: 45px; background: linear-gradient(90deg, #5d4037, #d4af37, #5d4037); margin: 0 auto; border-radius: 50% 50% 0 0; }
        .l-glass { 
            width: 170px; height: 260px; border: 4px solid #d4af37;
            margin: 0 auto; border-radius: 35px; position: relative;
            background: rgba(255, 215, 0, 0.05); box-shadow: inset 0 0 30px #d4af37;
            overflow: hidden;
        }
        .l-base { width: 190px; height: 35px; background: linear-gradient(90deg, #5d4037, #d4af37, #5d4037); margin: -5px auto 0; border-radius: 8px; }

        /* دوران الاسم داخل الفانوس */
        .rotator {
            position: absolute; width: 100%; height: 100%;
            display: none; transform-style: preserve-3d;
        }
        .active .rotator { display: block; animation: spin 8s linear infinite; }

        @keyframes spin { from { transform: rotateY(0deg); } to { transform: rotateY(360deg); } }

        canvas { position: absolute; top: 0; left: 0; pointer-events: none; }

        /* هلال هادي */
        .moon-shimmer {
            position: absolute; top: 15%; right: 10%;
            width: 60px; height: 60px; border-radius: 50%;
            box-shadow: 10px 10px 0 0 #d4af37; opacity: 0.2;
        }
    </style>
</head>
<body>

    <div id="magic-bg"></div>
    <div class="moon-shimmer"></div>

    <div class="timer-box">
        <div id="countdown">باقي القليل...</div>
    </div>

    <div class="center-stage" id="mainScene">
        <div class="lantern-ui">
            <div class="l-cap"></div>
            <div class="l-glass">
                <canvas id="snow"></canvas>
                <div class="rotator">
                    </div>
            </div>
            <div class="l-base"></div>
        </div>

        <div class="name-trigger" id="nameTrigger">أمل</div>
    </div>

    <audio id="ramadanSong" loop>
        <source src="1000349041.mp3" type="audio/mpeg">
    </audio>

    <script>
        const scene = document.getElementById('mainScene');
        const trigger = document.getElementById('nameTrigger');
        const song = document.getElementById('ramadanSong');
        const canvas = document.getElementById('snow');
        const ctx = canvas.getContext('2d');
        let isActivated = false;

        // الضغط على اسم أمل
        trigger.onclick = () => {
            if(!isActivated) {
                isActivated = true;
                scene.classList.add('active');
                song.play();
                initSnow();
                trigger.innerText = "أمل ✨";
            } else {
                isActivated = false;
                scene.classList.remove('active');
                song.pause();
                trigger.innerText = "أمل";
            }
        };

        // عداد 19 فبراير
        const target = new Date("February 19, 2026 00:00:00").getTime();
        setInterval(() => {
            const diff = target - new Date().getTime();
            const d = Math.floor(diff / 86400000);
            const h = Math.floor((diff % 86400000) / 3600000);
            const m = Math.floor((diff % 3600000) / 60000);
            const s = Math.floor((diff % 60000) / 1000);
            document.getElementById('countdown').innerText = `رمضان يقترب: ${d}ي ${h}:${m}:${s}`;
        }, 1000);

        // جليتر
        let particles = [];
        function initSnow() {
            canvas.width = 170; canvas.height = 260;
            particles = Array.from({length: 60}, () => ({
                x: Math.random()*170, y: Math.random()*260, v: Math.random()*0.8+0.4
            }));
        }

        function draw() {
            if(isActivated) {
                ctx.clearRect(0,0,170,260);
                ctx.fillStyle = "rgba(212, 175, 55, 0.8)";
                particles.forEach(p => {
                    ctx.beginPath(); ctx.arc(p.x, p.y, 1.2, 0, 7); ctx.fill();
                    p.y += p.v; if(p.y > 260) p.y = -5;
                });
            }
            requestAnimationFrame(draw);
        }
        draw();

        // نجوم الخلفية
        const bg = document.getElementById('magic-bg');
        for(let i=0; i<80; i++) {
            let s = document.createElement('div');
            s.style.position = 'absolute';
            s.style.width = '2px'; s.style.height = '2px';
            s.style.background = '#fff';
            s.style.left = Math.random()*100+'%';
            s.style.top = Math.random()*100+'%';
            s.style.opacity = Math.random()*0.5;
            bg.appendChild(s);
        }
    </script>
</body>
</html>
